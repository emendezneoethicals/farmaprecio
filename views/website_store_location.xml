<odoo>
    <template id="website_ubicaciones" name="Ubicaciones de Tiendas">
        <t t-call="website.layout">
            <!-- Banner -->
            <div style="background-color: #26326f; padding: 20px; margin-bottom: 20px; width: 100%; text-align: left;">
                <h1 class="mb-0 text-white">Nuestras Ubicaciones</h1>
            </div>
            <!-- Contenido -->
            <div class="container mt-4">
                <div class="row">
                    <!-- Filtros -->
                    <div class="col-md-2" style="border-right: 1px solid #ddd; padding-right: 10px; margin-left: -60px;">
                        <h5>Filtros</h5>
                        <form method="get">
                            <div class="form-group">
                                <label for="filter-zona">Zona</label>
                                <input id="filter-zona" type="number" name="zona" class="form-control form-control-sm"
                                       placeholder="Ej: 1,2,3 ..."
                                       step="1" min="0" t-att-value="request.params.get('zona', '')"/>
                            </div>
                            <div class="form-group">
                                <label for="filter-municipality">Municipio</label>
                                <input id="filter-municipality" type="text" name="municipality" class="form-control form-control-sm"
                                       placeholder="Ej: Guatemala"
                                       t-att-value="request.params.get('municipality', '')"/>
                            </div>
                            <div class="form-group">
                                <label for="filter-department">Departamento</label>
                                <select id="filter-department" name="department" class="form-control form-control-sm">
                                    <option value="">Seleccione</option>
                                    <t t-foreach="departamentos" t-as="departamento">
                                        <option t-att-value="departamento[0]" t-esc="departamento[1]"
                                                t-att-selected="request.params.get('department') == departamento[0]"/>
                                    </t>
                                </select>
                            </div>
                            <div class="text-right">
                                <button type="submit" class="btn btn-sm btn-primary">Aplicar</button>
                            </div>
                        </form>
                    </div>
                    <!-- Mapa -->
                    <div class="col-md-10" style="padding-left: 15px; margin-left: 60px">
                        <div id="map" style="height: 600px; width: 100%; border: 1px solid #ddd;"></div>
                    </div>
                </div>
            </div>
        </t>
        <!-- JSON de marcadores para el mapa -->
        <script>
            window.storeData = <t t-raw="stores_json"/>;
            console.log("Cargando datos de tiendas:", window.storeData);
        </script>
        <script 
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCcAZQka1gsjE3vtrrNVwQzzfMVAU0_V1A&amp;loading=async&amp;callback=initMap">
        </script>
    </template>
</odoo>
